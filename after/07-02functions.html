<!DOCTYPE html>
<html>
  <head>
    <title>
      Functions
    </title>
  </head>
  <body>
    <p>Hello</p>
    <p>Rock Paper Scissors</p>
    <button onclick="playGame('rock')"
      >Rock</button>

    <button onclick="playGame('paper')"
      >Paper</button>

    <button onclick="playGame('scissors');
    ">Scissors</button>

    <script>
      let score = JSON.parse(localStorage.getItem('score'));
      //localstorage gets the previes datat here. yet it is still an object. it needs to be turned into a string
      //let scoreLast = localStorage.getItem('score');
      //console.log(JSON.parse(scoreLast));


      //main function that takes params
      function playGame(playerMove){
        let computerMove = pickComputerMove();
        //console.log(computerMove);
        
        let result = '';
        //player scissors condition
        if (playerMove === 'scissors'){
          if (computerMove === 'rock'){
            result = 'Lost';
          }else if(computerMove === 'paper'){
            result = 'Win';
          }else if(computerMove ==='scissors'){
            result = 'Tie';
          };
          /*
          if (result === 'Win'){
            score.wins ++;
          }else if(result === 'Lost'){
            score.losses ++;
          }else{
            score.ties ++;
          };
        */
        //player paper condition
        }else if(playerMove === 'paper'){
            pickComputerMove();
          //console.log(computerMove);
          let result = '';
          if (computerMove === 'rock'){
            result = 'Win';
          }else if(computerMove === 'paper'){
            result = 'Tie';
          }else if(computerMove ==='scissors'){
            result = 'Lost';
          };
          /*
          if (result === 'Win'){
            score.wins ++;
          }else if(result === 'Lost'){
            score.losses ++;
          }else{
            score.ties ++;
          };
          */
          //player rock
        }else{
             let computerMove = pickComputerMove();
      
          //console.log(computerMove);
          let result = '';
          if (computerMove === 'rock'){
            result = 'Tie';
          }else if(computerMove === 'paper'){
            result = 'Lost';
          }else if(computerMove ==='scissors'){
            result = 'Win';
          };
          if (result === 'Win'){
            score.wins ++;
          }else if(result === 'Lost'){
            score.losses ++;
          }else{
            score.ties ++;
          };
          };

          localStorage.setItem('score', JSON.stringify(score));

          alert(`${result}. Computer move: ${computerMove}. 
          Wins: ${score.wins}. Losses: ${score.losses}. Ties: ${score.ties}.
          `);
      };

      //computer's move decided below
      function pickComputerMove(){
        const randomNumber = Math.random();

        if (randomNumber >= 0 && randomNumber <1/3){
          computerMove = 'rock';
        }else if(randomNumber>=1/3 && randomNumber < 2/3){
          computerMove = 'paper';
        }else if( randomNumber >= 2/3 && randomNumber < 1){
          computerMove = 'scissors';
        }
       return computerMove;
      };
      /*
      function modal(){
        return 5;
        return 'book';
      };

      modal();
      */
     //console.log(pickComputerMove());
    </script>
  </body>
</html>